<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Pueblo Querido - Bella Vista</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Variables CSS para colores */
        :root {
            --primary: #2d6a4f;
            --secondary: #40916c;
            --light: #d8f3dc;
            --accent: #ff9e6d;
            --dark: #1b4332;
        }
        
        /* Estilos generales */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, var(--light) 0%, #e8f5e9 100%);
            background-attachment: fixed;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Estilos del header */
        header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1519501025264-65ba15a82390?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500') center/cover no-repeat;
            color: white;
            text-align: center;
            padding: 100px 20px;
            position: relative;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            animation: fadeIn 1.5s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .tagline {
            font-size: 1.5rem;
            margin-bottom: 30px;
            font-weight: 300;
        }
        
        /* Estilos de la navegación */
        nav {
            background-color: var(--primary);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        nav a {
            color: white;
            margin: 0 15px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1rem;
            padding: 8px 20px;
            border-radius: 30px;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        nav a:hover, nav a:focus {
            background-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* Estilos de secciones */
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            color: var(--dark);
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .section-title h2::after {
            content: "";
            position: absolute;
            width: 80px;
            height: 4px;
            background: var(--accent);
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }
        
        .section-content {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }
        
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }
        
        .text-content {
            line-height: 1.8;
        }
        
        .text-content p {
            margin-bottom: 20px;
            text-align: justify;
        }
        
        .image-placeholder {
            height: 300px;
            background: linear-gradient(45deg, var(--secondary), var(--primary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        /* Estilos de la galería */
        #galeria {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .upload-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .upload-area {
            border: 3px dashed var(--secondary);
            border-radius: 12px;
            padding: 40px 20px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            background-color: rgba(64, 145, 108, 0.05);
        }
        
        .upload-area i {
            font-size: 3rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .upload-area p {
            margin-bottom: 15px;
            color: #555;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(255, 158, 109, 0.3);
        }
        
        .btn:hover {
            background: #ff8a5c;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 158, 109, 0.5);
        }
        
        #fileInput {
            display: none;
        }
        
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .gallery-item {
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
            position: relative;
            height: 250px;
            transition: transform 0.3s;
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
            cursor: pointer;
        }
        
        .gallery-item:hover img {
            transform: scale(1.1);
        }
        
        .gallery-item .image-actions {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: space-around;
            padding: 10px;
            transform: translateY(100%);
            transition: transform 0.3s;
            z-index: 2;
        }
        
        .gallery-item:hover .image-actions {
            transform: translateY(0);
        }
        
        .image-actions button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.1rem;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        
        .image-actions button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Estilos del contacto */
        .contact-form {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--dark);
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: border 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            border-color: var(--accent);
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 158, 109, 0.3);
        }
        
        textarea {
            height: 150px;
            resize: vertical;
        }
        
        /* Estilos del footer */
        footer {
            background: linear-gradient(to right, var(--primary), var(--dark));
            color: white;
            text-align: center;
            padding: 40px 0 20px;
        }
        
        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .footer-section {
            flex: 1;
            min-width: 300px;
            margin: 20px;
            text-align: left;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-section h3::after {
            content: "";
            position: absolute;
            width: 50px;
            height: 3px;
            background: var(--accent);
            bottom: 0;
            left: 0;
        }
        
        .social-links a {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            margin-right: 10px;
            color: white;
            transition: all 0.3s;
        }
        
        .social-links a:hover {
            background: var(--accent);
            transform: translateY(-5px);
        }
        
        .copyright {
            padding-top: 30px;
            margin-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Efectos de desplazamiento */
        section {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Modal para imágenes */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            overflow: auto;
        }
        
        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            animation: zoom 0.3s;
            border-radius: 10px;
        }
        
        @keyframes zoom {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .modal-actions {
            position: absolute;
            bottom: 30px;
            left: 0;
            right: 0;
            text-align: center;
        }
        
        .modal-actions button {
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .modal-actions button:hover {
            background: #ff8a5c;
            transform: translateY(-3px);
        }
        
        .close {
            position: absolute;
            top: 20px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }
        
        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .two-columns {
                grid-template-columns: 1fr;
            }
            
            nav a {
                font-size: 0.9rem;
                padding: 6px 15px;
                margin: 0 8px;
            }
            
            .modal-content {
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="hero-content">
            <h1>Bienvenidos a Bella Vista</h1>
            <p class="tagline">Un paraíso escondido entre montañas y ríos cristalinos</p>
            <button class="btn" onclick="document.getElementById('historia').scrollIntoView({behavior: 'smooth'})">Descubre más</button>
        </div>
    </header>

    <nav>
        <div class="container nav-container">
            <a href="#historia">Historia</a>
            <a href="#lugares">Lugares</a>
            <a href="#comida">Comida</a>
            <a href="#galeria">Galería</a>
            <a href="#contacto">Contacto</a>
        </div>
    </nav>

    <div class="container">
        <section id="historia">
            <div class="section-title">
                <h2>Nuestra Historia</h2>
            </div>
            <div class="section-content">
                <div class="two-columns">
                    <div class="text-content">
                        <p>Bella Vista fue fundada en 1785 por colonos españoles que buscaban nuevas tierras fértiles para cultivar. El nombre proviene del impresionante panorama que ofrece el valle desde las colinas circundantes.</p>
                        <p>Durante el siglo XIX, nuestro pueblo fue un importante centro de producción de café, atrayendo a inmigrantes italianos y alemanes que contribuyeron a nuestra rica herencia cultural. Los vestigios de esa época aún pueden verse en la arquitectura del casco histórico.</p>
                        <p>En las décadas recientes, Bella Vista ha mantenido su encanto rural mientras adopta un desarrollo sostenible que preserva nuestro patrimonio natural y cultural para las futuras generaciones.</p>
                    </div>
                    <div class="image-placeholder">
                        Historia Gráfica de Bella Vista
                    </div>
                </div>
            </div>
        </section>

        <section id="lugares">
            <div class="section-title">
                <h2>Lugares Turísticos</h2>
            </div>
            <div class="section-content">
                <div class="two-columns">
                    <div class="image-placeholder">
                        Imágenes de Lugares
                    </div>
                    <div class="text-content">
                        <h3>Miradores del Valle</h3>
                        <p>Desde estas alturas podrás contemplar todo el esplendor de nuestro valle. Recomendamos especialmente el atardecer desde el Mirador del Ángel, donde los colores del cielo se funden con el paisaje.</p>
                        
                        <h3>Cascada Esmeralda</h3>
                        <p>Un salto de agua de 35 metros de altura cuyas aguas cristalinas forman una poza natural ideal para nadar en verano. El camino hasta la cascada es en sí mismo una experiencia, rodeado de bosque tropical.</p>
                        
                        <h3>Mercado Artesanal</h3>
                        <p>Ubicado en la plaza central, este mercado ofrece productos locales y artesanías tradicionales. Los sábados por la mañana es el mejor momento para probar delicias locales recién preparadas.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="comida">
            <div class="section-title">
                <h2>Gastronomía Local</h2>
            </div>
            <div class="section-content">
                <div class="two-columns">
                    <div class="text-content">
                        <h3>Tamales de Hoja Santa</h3>
                        <p>Preparados con maíz molido en piedra y envueltos en hojas de plátano con hierba santa que les da un aroma único. Rellenos de pollo o cerdo con salsa de tomate y aceitunas.</p>
                        
                        <h3>Sopa de Tortilla</h3>
                        <p>Una reconfortante sopa con base de tomate, chile pasilla y trozos de tortilla frita. Se sirve con aguacate, queso fresco y crema, acompañada de limón.</p>
                        
                        <h3>Postres Tradicionales</h3>
                        <p>No te pierdas las "Chispitas de Cielo", unos dulces de yema bañados en almíbar, o el "Beso de Angel", un pan relleno de crema pastelera y cubierto de merengue.</p>
                    </div>
                    <div class="image-placeholder">
                        Imágenes de Platos Típicos
                    </div>
                </div>
            </div>
        </section>

        <section id="galeria">
            <div class="section-title">
                <h2>Galería de Imágenes</h2>
                <p>Comparte tus fotos de Bella Vista</p>
            </div>
            
            <div class="upload-container">
                <div class="upload-area" onclick="document.getElementById('fileInput').click()" id="dropArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Sube tus fotos</h3>
                    <p>Haz clic o arrastra imágenes aquí</p>
                    <p class="small">Formatos aceptados: JPG, PNG, GIF (Máx. 5MB)</p>
                </div>
                <input type="file" id="fileInput" accept="image/*" multiple onchange="handleImageUpload(event)">
                <button class="btn" onclick="document.getElementById('fileInput').click()">Seleccionar Imágenes</button>
            </div>
            
            <div id="galleryContainer" class="gallery-container">
                <!-- Las imágenes se agregarán aquí dinámicamente -->
            </div>
        </section>

        <section id="contacto">
            <div class="section-title">
                <h2>Contáctanos</h2>
            </div>
            <div class="contact-form">
                <div class="two-columns">
                    <div>
                        <h3>Visita Bella Vista</h3>
                        <p>Oficina de Turismo Municipal</p>
                        <p>Plaza Central, Bella Vista</p>
                        <p>Teléfono: (123) 456-7890</p>
                        <p>Email: turismo@bellavista.com</p>
                        <p>Horario: Lunes a Viernes 9:00 - 17:00</p>
                    </div>
                    <div>
                        <div class="form-group">
                            <label for="name">Nombre Completo</label>
                            <input type="text" id="name" placeholder="Tu nombre">
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" placeholder="tu@email.com">
                        </div>
                        <div class="form-group">
                            <label for="message">Mensaje</label>
                            <textarea id="message" placeholder="Escribe tu mensaje aquí..."></textarea>
                        </div>
                        <button class="btn">Enviar Mensaje</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal para vista ampliada de imágenes -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
        <div class="modal-actions">
            <button id="downloadBtn" onclick="downloadImage()"><i class="fas fa-download"></i> Descargar</button>
            <button onclick="closeModal()"><i class="fas fa-times"></i> Cerrar</button>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Sobre Bella Vista</h3>
                <p>Un pueblo dedicado a preservar sus tradiciones y su patrimonio natural. Descubre nuestra historia y enamórate de nuestro paisaje.</p>
            </div>
            <div class="footer-section">
                <h3>Enlaces Rápidos</h3>
                <p><a href="#historia" style="color: white;">Historia</a></p>
                <p><a href="#lugares" style="color: white;">Lugares</a></p>
                <p><a href="#comida" style="color: white;">Gastronomía</a></p>
            </div>
            <div class="footer-section">
                <h3>Síguenos</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Bella Vista - Todos los derechos reservados | Diseñado con ❤️ por los habitantes de Bella Vista</p>
        </div>
    </footer>

    <script>
        // Función para manejar la carga de imágenes
        function handleImageUpload(event) {
            const files = event.target.files;
            const galleryContainer = document.getElementById('galleryContainer');
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                
                // Verificar que sea una imagen
                if (!file.type.match('image.*')) continue;
                
                const reader = new FileReader();
                
                reader.onload = (function(theFile) {
                    return function(e) {
                        // Guardar imagen en localStorage
                        saveImageToStorage(e.target.result, theFile.name);
                        
                        // Mostrar imagen en la galería
                        addImageToGallery(e.target.result, theFile.name, galleryContainer);
                    };
                })(file);
                
                reader.readAsDataURL(file);
            }
        }
        
        // Función para guardar imagen en localStorage
        function saveImageToStorage(imageData, fileName) {
            // Obtener imágenes guardadas o inicializar array
            let savedImages = JSON.parse(localStorage.getItem('galleryImages')) || [];
            
            // Crear objeto de imagen con metadatos
            const imageObj = {
                data: imageData,
                name: fileName,
                uploadedAt: new Date().toISOString()
            };
            
            // Añadir nueva imagen
            savedImages.push(imageObj);
            
            // Guardar en localStorage
            localStorage.setItem('galleryImages', JSON.stringify(savedImages));
        }
        
        // Función para cargar imágenes guardadas al iniciar
        function loadSavedImages() {
            const galleryContainer = document.getElementById('galleryContainer');
            const savedImages = JSON.parse(localStorage.getItem('galleryImages')) || [];
            
            // Limpiar contenedor antes de cargar
            galleryContainer.innerHTML = '';
            
            // Agregar cada imagen guardada
            savedImages.forEach(image => {
                addImageToGallery(image.data, image.name, galleryContainer);
            });
        }
        
        // Función para agregar imagen a la galería
        function addImageToGallery(imageSrc, fileName, container) {
            // Crear elemento para la imagen
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            
            // Crear elemento de imagen
            const img = document.createElement('img');
            img.src = imageSrc;
            img.alt = `Foto de Bella Vista: ${fileName}`;
            
            // Agregar evento para abrir modal
            img.onclick = function() {
                openModal(imageSrc);
            }
            
            // Crear acciones para la imagen
            const imageActions = document.createElement('div');
            imageActions.className = 'image-actions';
            
            // Botón para expandir
            const expandBtn = document.createElement('button');
            expandBtn.innerHTML = '<i class="fas fa-expand"></i>';
            expandBtn.title = "Ampliar imagen";
            expandBtn.onclick = function(e) {
                e.stopPropagation();
                openModal(imageSrc);
            }
            
            // Botón para descargar
            const downloadBtn = document.createElement('button');
            downloadBtn.innerHTML = '<i class="fas fa-download"></i>';
            downloadBtn.title = "Descargar imagen";
            downloadBtn.onclick = function(e) {
                e.stopPropagation();
                downloadImageFromGallery(imageSrc, fileName);
            }
            
            // Botón para eliminar
            const deleteBtn = document.createElement('button');
            deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
            deleteBtn.title = "Eliminar imagen";
            deleteBtn.onclick = function(e) {
                e.stopPropagation();
                deleteImage(imageSrc, galleryItem);
            }
            
            // Agregar botones a las acciones
            imageActions.appendChild(expandBtn);
            imageActions.appendChild(downloadBtn);
            imageActions.appendChild(deleteBtn);
            
            // Agregar elementos al ítem de la galería
            galleryItem.appendChild(img);
            galleryItem.appendChild(imageActions);
            
            // Agregar al contenedor
            container.appendChild(galleryItem);
        }
        
        // Función para abrir modal con imagen ampliada
        function openModal(imageSrc) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            
            modalImg.src = imageSrc;
            modal.style.display = "block";
            document.body.style.overflow = "hidden"; // Deshabilitar scroll
            currentImage = imageSrc;
        }
        
        // Función para cerrar modal
        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = "none";
            document.body.style.overflow = "auto"; // Habilitar scroll
        }
        
        // Función para descargar imagen desde modal
        function downloadImage() {
            if (!currentImage) return;
            
            // Crear enlace temporal
            const link = document.createElement('a');
            link.href = currentImage;
            link.download = `imagen-bellavista-${new Date().getTime()}.jpg`;
            
            // Simular clic para descargar
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        // Función para descargar imagen desde galería
        function downloadImageFromGallery(imageSrc, fileName) {
            // Crear enlace temporal
            const link = document.createElement('a');
            link.href = imageSrc;
            
            // Usar nombre original o generar uno
            const downloadName = fileName || `imagen-bellavista-${new Date().getTime()}.jpg`;
            link.download = downloadName;
            
            // Simular clic para descargar
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        // Función para eliminar imagen
        function deleteImage(imageSrc, galleryItem) {
            if (!confirm('¿Estás seguro de que quieres eliminar esta imagen?')) return;
            
            // Eliminar del DOM
            galleryItem.remove();
            
            // Eliminar de localStorage
            let savedImages = JSON.parse(localStorage.getItem('galleryImages')) || [];
            savedImages = savedImages.filter(img => img.data !== imageSrc);
            localStorage.setItem('galleryImages', JSON.stringify(savedImages));
        }
        
        // Observador de intersección para animaciones al hacer scroll
        const observerOptions = {
            threshold: 0.1
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);
        
        // Observar todas las secciones
        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });
        
        // Inicializar la primera sección como visible
        document.querySelector('section').classList.add('visible');
        
        // Cargar imágenes al iniciar
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedImages();
            
            // Manejar eventos del modal
            const modal = document.getElementById('imageModal');
            window.onclick = function(event) {
                if (event.target === modal) {
                    closeModal();
                }
            }
            
            // Permitir arrastrar y soltar imágenes
            const dropArea = document.getElementById('dropArea');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                dropArea.style.backgroundColor = 'rgba(64, 145, 108, 0.1)';
                dropArea.style.borderColor = '#ff9e6d';
            }
            
            function unhighlight() {
                dropArea.style.backgroundColor = '';
                dropArea.style.borderColor = '';
            }
            
            // Manejar soltar archivos
            dropArea.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                
                if (files.length) {
                    const input = document.getElementById('fileInput');
                    input.files = files;
                    
                    // Disparar evento de cambio
                    const event = new Event('change', { bubbles: true });
                    input.dispatchEvent(event);
                }
            }
        });
        
        // Variable para imagen actual en modal
        let currentImage = null;
    </script>
</body>
</html>
